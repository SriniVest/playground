(self.webpackChunksign_language_playground=self.webpackChunksign_language_playground||[]).push([[5041],{5041:(o,s,e)=>{"use strict";e.d(s,{I:()=>x,a:()=>k,b:()=>g,d:()=>p,e:()=>z,g:()=>m,k:()=>Q,l:()=>S,m:()=>b,r:()=>v,t:()=>R,u:()=>f,w:()=>O,x:()=>$});let t={symbol:"S[123][0-9a-f]{2}[0-5][0-9a-f]",coord:"[0-9]{3}x[0-9]{3}",sort:"A",box:"[BLMR]"};t.prefix=`(?:${t.sort}(?:${t.symbol})+)`,t.spatial=`${t.symbol}${t.coord}`,t.signbox=`${t.box}${t.coord}(?:${t.spatial})*`,t.sign=`${t.prefix}?${t.signbox}`,t.sortable=`${t.prefix}${t.signbox}`;let l={symbol:"(?:(?:\ud8c0[\udc01-\udfff])|(?:[\ud8c1-\ud8fc][\udc00-\udfff])|(?:\ud8fd[\udc00-\udc80]))",coord:"(?:\ud836[\udc0c-\uddff]){2}",sort:"\ud836\udc00",box:"\ud836[\udc01-\udc04]"};l.prefix=`(?:${l.sort}(?:${l.symbol})+)`,l.spatial=`${l.symbol}${l.coord}`,l.signbox=`${l.box}${l.coord}(?:${l.spatial})*`,l.sign=`${l.prefix}?${l.signbox}`,l.sortable=`${l.prefix}${l.signbox}`;const a=o=>parseInt(o.codePointAt(0))-120844+250,i=o=>[a(o.slice(0,2)),a(o.slice(2,4))],r=o=>o.map(o=>(o=>String.fromCodePoint(120844+parseInt(o)-250))(o)).join(""),c=o=>o.split("x").map(o=>parseInt(o)),n=o=>parseInt(o.codePointAt(0)),d=o=>String.fromCodePoint(o),m=o=>n(o)-262144,p=o=>d(o+262144),$=o=>1+96*(parseInt(o.slice(1,4),16)-256)+16*parseInt(o.slice(4,5),16)+parseInt(o.slice(5,6),16),f=o=>{const s=o-1,e=parseInt(s/96),t=parseInt((s-96*e)/16),l=parseInt(s-96*e-16*t);return"S"+(e+256).toString(16)+t.toString(16)+l.toString(16)},g=o=>d(262145+96*(parseInt(o.slice(1,4),16)-256)+16*parseInt(o.slice(4,5),16)+parseInt(o.slice(5,6),16)),b=o=>{if(!o)return"";let s=o.replace(/\ud836\udc00/g,"A").replace(/\ud836\udc01/g,"B").replace(/\ud836\udc02/g,"L").replace(/\ud836\udc03/g,"M").replace(/\ud836\udc04/g,"R");const e=s.match(new RegExp(l.symbol,"g"));e&&e.forEach(function(o){s=s.replace(o,(o=>{const s=n(o)-262145,e=parseInt(s/96),t=parseInt((s-96*e)/16),l=parseInt(s-96*e-16*t);return"S"+(e+256).toString(16)+t.toString(16)+l.toString(16)})(o))});const t=s.match(new RegExp(l.coord,"g"));return t&&t.forEach(function(o){s=s.replace(o,i(o).join("x"))}),s},x=o=>{if(!o)return"";const s=o.match(new RegExp(t.prefix,"g"));s&&s.forEach(function(s){o=o.replace(s,"\ud836\udc00"+s.slice(1).match(/.{6}/g).map(o=>g(o)).join(""))});const e=o.match(new RegExp(t.box+t.coord,"g"));e&&e.forEach(function(s){o=o.replace(s,(o=>({A:"\ud836\udc00",B:"\ud836\udc01",L:"\ud836\udc02",M:"\ud836\udc03",R:"\ud836\udc04"}[o]))(s.slice(0,1))+r(c(s.slice(1,8))))});const l=o.match(new RegExp(t.spatial,"g"));return l&&l.forEach(function(s){o=o.replace(s,g(s.slice(0,6))+r(c(s.slice(6,13))))}),o};let y={symbol:"S[123][0-9a-f]{2}[0-5][0-9a-f]",coord:"[0-9]{3}x[0-9]{3}",sort:"A",box:"[BLMR]"};y.prefix=`(?:${y.sort}(?:${y.symbol})+)`,y.spatial=`${y.symbol}${y.coord}`,y.signbox=`${y.box}${y.coord}(?:${y.spatial})*`,y.sign=`${y.prefix}?${y.signbox}`,y.sortable=`${y.prefix}${y.signbox}`;let u={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",zoomsym:"Z[0-9]{2},[0-9]+(?:\\.[0-9]+)?(?:,[0-9]{3}x[0-9]{3})?",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};u.colorbase=`(?:${u.colorhex}|${u.colorname})`,u.color=`_${u.colorbase}_`,u.colors=`_${u.colorbase}(?:,${u.colorbase})?_`,u.background=`G${u.color}`,u.detail=`D${u.colors}`,u.detailsym=`D[0-9]{2}${u.colors}`,u.classes=`${u.classbase}(?: ${u.classbase})*`,u.full=`-(${u.colorize})?(${u.padding})?(${u.background})?(${u.detail})?(${u.zoom})?(?:-((?:${u.detailsym})*)((?:${u.zoomsym})*))?(?:-(${u.classes})?!(?:(${u.id})!)?)?`;const h=o=>o.split("x").map(o=>parseInt(o)),z={symbol:o=>{const s="string"==typeof o?o.match(new RegExp(`^(${y.symbol})(${y.coord})?(${u.full})?`)):void 0;return{symbol:s?s[1]:void 0,coord:s&&s[2]?h(s[2]):void 0,style:s?s[3]:void 0}},sign:o=>{const s="string"==typeof o?o.match(new RegExp(`^(${y.prefix})?(${y.signbox})(${u.full})?`)):void 0;return s?{sequence:s[1]?s[1].slice(1).match(/.{6}/g):void 0,box:s[2][0],max:h(s[2].slice(1,8)),spatials:s[2].length<9?void 0:s[2].slice(8).match(/(.{13})/g).map(o=>({symbol:o.slice(0,6),coord:[parseInt(o.slice(6,9)),parseInt(o.slice(10,13))]})),style:s[3]}:{}}},v={symbol:o=>{if("string"==typeof o.symbol){const s=(o.symbol.match(y.symbol)||[""])[0];if(s)return s+((((o.coord&&o.coord[0]||"").toString()+"x"+(o.coord&&o.coord[1]||"").toString()).match(y.coord)||[""])[0]||"")+("string"==typeof o.style&&(o.style.match(u.full)||[""])[0]||"")}},sign:o=>{let s="string"!=typeof o.box?"M":(o.box+"M").match(y.box);const e=(((o.max&&o.max[0]||"").toString()+"x"+(o.max&&o.max[1]||"").toString()).match(y.coord)||[""])[0]||"";if(!e)return;let t="";o.sequence&&Array.isArray(o.sequence)&&(t=(t=o.sequence.map(o=>(o.match(y.symbol)||[""])[0]).join(""))?"A"+t:"");let l="";return o.spatials&&Array.isArray(o.spatials)&&(l=o.spatials.map(o=>{if("string"==typeof o.symbol){const s=(o.symbol.match(y.symbol)||[""])[0];if(s){const e=(((o.coord&&o.coord[0]||"").toString()+"x"+(o.coord&&o.coord[1]||"").toString()).match(y.coord)||[""])[0]||"";if(e)return s+e}}return""}).join("")),t+s+e+l+("string"==typeof o.style&&(o.style.match(u.full)||[""])[0]||"")}};let A={symbol:"(?:(?:\ud8c0[\udc01-\udfff])|(?:[\ud8c1-\ud8fc][\udc00-\udfff])|(?:\ud8fd[\udc00-\udc80]))",coord:"(?:\ud836[\udc0c-\uddff]){2}",sort:"\ud836\udc00",box:"\ud836[\udc01-\udc04]"};A.prefix=`(?:${A.sort}(?:${A.symbol})+)`,A.spatial=`${A.symbol}${A.coord}`,A.signbox=`${A.box}${A.coord}(?:${A.spatial})*`,A.sign=`${A.prefix}?${A.signbox}`,A.sortable=`${A.prefix}${A.signbox}`;let w={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",zoomsym:"Z[0-9]{2},[0-9]+(?:\\.[0-9]+)?(?:,[0-9]{3}x[0-9]{3})?",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};w.colorbase=`(?:${w.colorhex}|${w.colorname})`,w.color=`_${w.colorbase}_`,w.colors=`_${w.colorbase}(?:,${w.colorbase})?_`,w.background=`G${w.color}`,w.detail=`D${w.colors}`,w.detailsym=`D[0-9]{2}${w.colors}`,w.classes=`${w.classbase}(?: ${w.classbase})*`,w.full=`-(${w.colorize})?(${w.padding})?(${w.background})?(${w.detail})?(${w.zoom})?(?:-((?:${w.detailsym})*)((?:${w.zoomsym})*))?(?:-(${w.classes})?!(?:(${w.id})!)?)?`;const _=o=>parseInt(o.codePointAt(0))-120844+250,I=o=>[_(o.slice(0,2)),_(o.slice(2,4))],Z=o=>o.map(o=>(o=>String.fromCodePoint(120844+parseInt(o)-250))(o)).join(""),S={symbol:o=>{const s="string"==typeof o?o.match(new RegExp(`^(${A.symbol})(${A.coord})?(${w.full})?`)):void 0;return{symbol:s?s[1]:void 0,coord:s&&s[2]?I(s[2]):void 0,style:s?s[3]:void 0}},sign:o=>{const s="string"==typeof o?o.match(new RegExp(`^(${A.prefix})?(${A.signbox})(${w.full})?`)):void 0;return s?{sequence:s[1]?s[1].slice(2).match(/.{2}/g):void 0,box:s[2].slice(0,2),max:I(s[2].slice(2,6)),spatials:s[2].length<7?void 0:s[2].slice(6).match(/(.{6})/g).map(o=>({symbol:o.slice(0,2),coord:I(o.slice(2))})),style:s[3]}:{}}},k={symbol:o=>{if("object"==typeof o&&null!==o&&"string"==typeof o.symbol){const s=(o.symbol.match(A.symbol)||[""])[0];if(s){const e=o.coord&&o.coord[0]||"",t=o.coord&&o.coord[1]||"";return s+(e&&t?Z([e,t]):"")+("string"==typeof o.style&&(o.style.match(w.full)||[""])[0]||"")}}},sign:o=>{if("object"!=typeof o||null===o)return;let s="string"!=typeof o.box?"\ud836\udc03":(o.box+"\ud836\udc03").match(A.box);const e=o.max&&o.max[0]||"",t=o.max&&o.max[1]||"",l=e&&t?Z([e,t]):void 0;if(!l)return;let a="";o.sequence&&Array.isArray(o.sequence)&&(a=(a=o.sequence.map(o=>(o.match(A.symbol)||[""])[0]).join(""))?"\ud836\udc00"+a:"");let i="";return o.spatials&&Array.isArray(o.spatials)&&(i=o.spatials.map(o=>{if("string"==typeof o.symbol){const s=(o.symbol.match(A.symbol)||[""])[0];if(s){const e=o.coord&&o.coord[0]||"",t=o.coord&&o.coord[1]||"",l=e&&t?Z([e,t]):"";if(l)return s+l}}return""}).join("")),a+s+l+i+("string"==typeof o.style&&(o.style.match(w.full)||[""])[0]||"")}};let E={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",zoomsym:"Z[0-9]{2},[0-9]+(?:\\.[0-9]+)?(?:,[0-9]{3}x[0-9]{3})?",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};E.colorbase=`(?:${E.colorhex}|${E.colorname})`,E.color=`_${E.colorbase}_`,E.colors=`_${E.colorbase}(?:,${E.colorbase})?_`,E.background=`G${E.color}`,E.detail=`D${E.colors}`,E.detailsym=`D[0-9]{2}${E.colors}`,E.classes=`${E.classbase}(?: ${E.classbase})*`,E.full=`-(${E.colorize})?(${E.padding})?(${E.background})?(${E.detail})?(${E.zoom})?(?:-((?:${E.detailsym})*)((?:${E.zoomsym})*))?(?:-(${E.classes})?!(?:(${E.id})!)?)?`;const R=o=>{if("object"!=typeof o||null===o)return;let s="-";s+=o.colorize?"C":"";const e=parseInt(o.padding);s+=!e||e<=0||e>99?"":"P"+(e>9?e:"0"+e);const t=o.background&&"string"==typeof o.background?o.background.match(E.colorbase)[0]:void 0;s+=t?"G_"+t+"_":"";const l=o.detail&&o.detail[0]&&"string"==typeof o.detail[0]?o.detail[0].match(E.colorbase)[0]:void 0,a=o.detail&&o.detail[1]&&"string"==typeof o.detail[1]?o.detail[1].match(E.colorbase)[0]:void 0;l&&(s+="D_"+l,a&&(s+=","+a),s+="_");const i="x"===o.zoom?"x":parseFloat(o.zoom);s+=!i||i<=0?"":"Z"+i;let r="";r+=(o.detailsym&&Array.isArray(o.detailsym)?o.detailsym.map(o=>{const s=parseInt(o.index);if(!s||s<=0||s>99)return"";let e="D"+(s>9?s:"0"+s);const t=o.detail&&o.detail[0]?o.detail[0].match(E.colorbase)[0]:void 0,l=o.detail&&o.detail[1]?o.detail[1].match(E.colorbase)[0]:void 0;return t&&(e+="_"+t,l&&(e+=","+l),e+="_"),e}):[]).join(""),r+=(o.zoomsym&&Array.isArray(o.zoomsym)?o.zoomsym.map(o=>{const s=parseInt(o.index);if(!s||s<=0||s>99)return"";let e="Z"+(s>9?s:"0"+s);const t=parseFloat(o.zoom);if(e+=!t||t<=0?"":","+t,o.offset&&0 in o.offset&&1 in o.offset){const s=parseInt(o.offset[0])+500,t=parseInt(o.offset[1])+500;s>=250&&s<750&&t>=250&&t<750&&(e+=","+s+"x"+t)}return e}):[]).join("");let c="";const n=o.classes&&"string"==typeof o.classes?o.classes.match(E.classes)[0]:void 0;c+=n||"";const d=o.id&&"string"==typeof o.id?o.id.match(E.id)[0]:void 0;return c+=n||d?"!":"",c+=d?d+"!":"",s+(r||c?"-"+r:"")+(c?"-"+c:"")},C=o=>1+96*(parseInt(o.slice(1,4),16)-256)+16*parseInt(o.slice(4,5),16)+parseInt(o.slice(5,6),16);let P={};const j=document.createElement("canvas");j.width=152,j.height=152;const F=j.getContext("2d"),D=function(o){return function(o){if(o in P)return[...P[o]];F.clearRect(0,0,152,152),F.font="60px 'SuttonSignWritingLine'",F.fillText(String.fromCodePoint(o+983040),0,0);const s=F.getImageData(0,0,152,152).data;let e,t,l,a;o:for(e=151;e>=0;e--)for(t=0;t<152;t+=1)for(a=0;a<4;a+=1)if(l=4*e+4*t*152+a,s[l])break o;var i=e;o:for(t=151;t>=0;t--)for(e=0;e<i;e+=1)for(a=0;a<4;a+=1)if(l=4*e+4*t*152+a,s[l])break o;var r=t+1;if(i=Math.ceil(i/2),r=Math.ceil(r/2),14394==o&&(i=19),[10468,10480,10496,10512,10500,10532,10548,10862,10878,10894,11058,11074,11476,11488,11492,11504,11508,11520,10516,10910,10926,11042,11082,10942].includes(o)&&(i=20),31921==o&&(i=22),38460==o&&(i=23),[20164,20212].includes(o)&&(i=25),31894==o&&(i=28),46698==o&&(i=29),29606==o&&(i=30),44855==o&&(i=40),32667==o&&(i=50),[11088,11474,11490,11506].includes(o)&&(r=20),6285==o&&(r=21),40804==o&&(r=31),41475==o&&(r=36),0==i&&0==r){const s={9:[15,30],10:[21,30],11:[30,15],12:[30,21],13:[15,30],14:[21,30]};o in s&&(i=s[o][0],r=s[o][1])}return 0!=i||0!=r?(P[o]=[i,r],[i,r]):void 0}(C(o))},M=function(o){return`    <text class="sym-fill" fill="white" style="pointer-events:none;font-family:'SuttonSignWritingFill';font-size:30px;">${function(o){return String.fromCodePoint(o+1048576)}(s=C(o))}</text>\n    <text class="sym-line" fill="black" style="pointer-events:none;font-family:'SuttonSignWritingLine';font-size:30px;">${function(o){return String.fromCodePoint(o+983040)}(s)}</text>`;var s};let q={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",zoomsym:"Z[0-9]{2},[0-9]+(?:\\.[0-9]+)?(?:,[0-9]{3}x[0-9]{3})?",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};q.colorbase=`(?:${q.colorhex}|${q.colorname})`,q.color=`_${q.colorbase}_`,q.colors=`_${q.colorbase}(?:,${q.colorbase})?_`,q.background="G"+q.color,q.detail="D"+q.colors,q.detailsym="D[0-9]{2}"+q.colors,q.classes=`${q.classbase}(?: ${q.classbase})*`,q.full=`-(${q.colorize})?(${q.padding})?(${q.background})?(${q.detail})?(${q.zoom})?(?:-((?:${q.detailsym})*)((?:${q.zoomsym})*))?(?:-(${q.classes})?!(?:(${q.id})!)?)?`;const B=o=>(new RegExp(`^${q.colorhex}$`).test(o)?"#":"")+o,L=o=>{const s=("string"==typeof o?o.match(new RegExp("^"+q.full)):[])||[];return{colorize:s[1]?!!s[1]:void 0,padding:s[2]?parseInt(s[2].slice(1)):void 0,background:s[3]?B(s[3].slice(2,-1)):void 0,detail:s[4]?s[4].slice(2,-1).split(",").map(B):void 0,zoom:s[5]?"Zx"===s[5]?"x":parseFloat(s[5].slice(1)):void 0,detailsym:s[6]?s[6].match(new RegExp(q.detailsym,"g")).map(o=>{const s=o.split("_"),e=s[1].split(",").map(B);return{index:parseInt(s[0].slice(1)),detail:e}}):void 0,zoomsym:s[7]?s[7].match(new RegExp(q.zoomsym,"g")).map(o=>{const s=o.split(",");return{index:parseInt(s[0].slice(1)),zoom:parseFloat(s[1]),offset:s[2]?s[2].split("x").map(o=>parseInt(o)-500):void 0}}):void 0,classes:s[8]?s[8]:void 0,id:s[9]?s[9]:void 0}};let G={symbol:"S[123][0-9a-f]{2}[0-5][0-9a-f]",coord:"[0-9]{3}x[0-9]{3}",sort:"A",box:"[BLMR]"};G.prefix=`(?:${G.sort}(?:${G.symbol})+)`,G.spatial=`${G.symbol}${G.coord}`,G.signbox=`${G.box}${G.coord}(?:${G.spatial})*`,G.sign=`${G.prefix}?${G.signbox}`,G.sortable=`${G.prefix}${G.signbox}`;let W={colorize:"C",colorhex:"(?:[0-9a-fA-F]{3}){1,2}",colorname:"[a-zA-Z]+",padding:"P[0-9]{2}",zoom:"Z(?:[0-9]+(?:\\.[0-9]+)?|x)",zoomsym:"Z[0-9]{2},[0-9]+(?:\\.[0-9]+)?(?:,[0-9]{3}x[0-9]{3})?",classbase:"-?[_a-zA-Z][_a-zA-Z0-9-]{0,100}",id:"[a-zA-Z][_a-zA-Z0-9-]{0,100}"};W.colorbase=`(?:${W.colorhex}|${W.colorname})`,W.color=`_${W.colorbase}_`,W.colors=`_${W.colorbase}(?:,${W.colorbase})?_`,W.background="G"+W.color,W.detail="D"+W.colors,W.detailsym="D[0-9]{2}"+W.colors,W.classes=`${W.classbase}(?: ${W.classbase})*`,W.full=`-(${W.colorize})?(${W.padding})?(${W.background})?(${W.detail})?(${W.zoom})?(?:-((?:${W.detailsym})*)((?:${W.zoomsym})*))?(?:-(${W.classes})?!(?:(${W.id})!)?)?`;const T=o=>o.split("x").map(o=>parseInt(o)),H=o=>{const s="string"==typeof o?o.match(new RegExp(`^(${G.symbol})(${G.coord})?(${W.full})?`)):void 0;return{symbol:s?s[1]:void 0,coord:s&&s[2]?T(s[2]):void 0,style:s?s[3]:void 0}},J=[256,517,759,767,877,895,903],K=["#0000CC","#CC0000","#FF0099","#006600","#000000","#884411","#FF9900"],N=o=>{const s=H(o);let e="#000000";if(s.symbol){const o=parseInt(s.symbol.slice(1,4),16),t=J.findIndex(s=>s>o);e=K[t<0?6:t-1]}return e},O=o=>{const s=H(o);if(s.symbol){let e=D(s.symbol);if(e){let t,l=L(s.style),a=M(s.symbol);a=`  <g transform="translate(500,500)">\n${a}\n  </g>`,l.colorize?t=N(s.symbol):l.detail&&(t=l.detail[0]),t&&(a=a.replace(/class="sym-line" fill="black"/,`class="sym-line" fill="${t}"`));let i=l.detail&&l.detail[1];i&&(a=a.replace(/class="sym-fill" fill="white"/,`class="sym-fill" fill="${i}"`));let r=500,c=500,n="";l.padding&&(r-=l.padding,c-=l.padding,e[0]+=2*l.padding,e[1]+=2*l.padding),l.background&&(n=`\n  <rect x="${r}" y="${c}" width="${e[0]}" height="${e[1]}" style="fill:${l.background};" />`);let d="";"x"!=l.zoom&&(d=` width="${e[0]*(l.zoom?l.zoom:1)}" height="${e[1]*(l.zoom?l.zoom:1)}"`);let m="";l.classes&&(m=` class="${l.classes}"`);let p="";return l.id&&(p=` id="${l.id}"`),`<svg${m}${p} version="1.1" xmlns="http://www.w3.org/2000/svg"${d} viewBox="${r} ${c} ${e[0]} ${e[1]}">\n  <text font-size="0">${o}</text>${n}\n${a}\n</svg>`}}return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="1" height="1"></svg>'},Q=o=>{let s=(o=>{const s="string"==typeof o?o.match(new RegExp(`^(${G.prefix})?(${G.signbox})(${W.full})?`)):void 0;return s?{sequence:s[1]?s[1].slice(1).match(/.{6}/g):void 0,box:s[2][0],max:T(s[2].slice(1,8)),spatials:s[2].length<9?void 0:s[2].slice(8).match(/(.{13})/g).map(o=>({symbol:o.slice(0,6),coord:[parseInt(o.slice(6,9)),parseInt(o.slice(10,13))]})),style:s[3]}:{}})(o);if(s.spatials){let e=L(s.style);e.detailsym&&e.detailsym.forEach(o=>{s.spatials[o.index-1]&&(s.spatials[o.index-1].detail=o.detail)});let t=Math.min(...s.spatials.map(o=>o.coord[0])),l=Math.min(...s.spatials.map(o=>o.coord[1])),a=s.max[0],i=s.max[1];e.zoomsym&&e.zoomsym.forEach(o=>{if(s.spatials[o.index-1]){s.spatials[o.index-1].zoom=o.zoom,o.offset&&(s.spatials[o.index-1].coord[0]+=o.offset[0],s.spatials[o.index-1].coord[1]+=o.offset[1]);let e=D(s.spatials[o.index-1].symbol);a=Math.max(a,s.spatials[o.index-1].coord[0]+e[0]*o.zoom),i=Math.max(i,s.spatials[o.index-1].coord[1]+e[1]*o.zoom)}});let r="";e.classes&&(r=` class="${e.classes}"`);let c="";e.id&&(c=` id="${e.id}"`);let n="";e.padding&&(t-=e.padding,l-=e.padding,a+=e.padding,i+=e.padding),e.background&&(n=`\n  <rect x="${t}" y="${l}" width="${a-t}" height="${i-l}" style="fill:${e.background};" />`);let d="";"x"!=e.zoom&&(d=` width="${(a-t)*(e.zoom?e.zoom:1)}" height="${(i-l)*(e.zoom?e.zoom:1)}"`);let m=`<svg${r}${c} version="1.1" xmlns="http://www.w3.org/2000/svg"${d} viewBox="${t} ${l} ${a-t} ${i-l}">\n  <text font-size="0">${o}</text>${n}`;const p=e.detail&&e.detail[0],$=e.detail&&e.detail[1];return m+="\n"+s.spatials.map(o=>{let s=M(o.symbol),t=p;o.detail?t=o.detail[0]:e.colorize&&(t=N(o.symbol)),t&&(s=s.replace(/class="sym-line" fill="black"/,`class="sym-line" fill="${t}"`));let l=$;return o.detail&&o.detail[1]&&(l=o.detail[1]),l&&(s=s.replace(/class="sym-fill" fill="white"/,`class="sym-fill" fill="${l}"`)),o.zoom&&(s=`<g transform="scale(${o.zoom})">${s}</g>`),`  <g transform="translate(${o.coord[0]},${o.coord[1]})">\n${s}\n  </g>`}).join("\n"),m+="\n</svg>",m}return'<svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="1" height="1"></svg>'}}}]);